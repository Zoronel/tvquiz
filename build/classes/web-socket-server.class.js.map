{"version":3,"file":"web-socket-server.class.js","sourceRoot":"","sources":["../../src/classes/web-socket-server.class.ts"],"names":[],"mappings":"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"}